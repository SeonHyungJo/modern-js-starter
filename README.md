# modern-js-starter

Setup pre-commit hook

- Add husky
- Add lint-staged
- Create Hook

<br/>

## husky

í—ˆìŠ¤í‚¤ì´ë‹¤. ë­”ê°€ ê·€ì—¬ìš´ ê°•ì•„ì§€ê°€ ì—°ìƒë˜ëŠ” ì´ë¦„ì´ë‹¤. ê°„ë‹¨í•˜ê²Œ ì„¤ëª…ì„ í•˜ë©´ ìš°ë¦¬ê°€ `git`ì„ ì‚¬ìš©í•˜ë©´ì„œ `git commit` ê³¼ `git push` ë¥¼ ë‚¨ë°œí•˜ê²Œ ë˜ë©´ì„œ ì´ë£¨ì–´ì§€ëŠ” ì‹¤ìˆ˜ë¥¼ ì¡ì•„ì£¼ë„ë¡ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

> Husky can prevent bad git commit, git push and more ğŸ¶ woof!

ì‰½ê²Œ ìƒê°ì„ í•˜ë©´ ìš°ë¦¬ê°€ eslintë¥¼ ì ìš©í•˜ê³  prettierë¥¼ ì ìš©í–ˆë‹¤ í•˜ë”ë¼ë„ vimê°™ì€ edtorë¡œ ìˆ˜ì •ì„ í•´ì„œ ì €ì¥ì„ í•œë‹¤ë©´ ìë™ìœ¼ë¡œ ì €ì¥ì‹œì— ë¬¸ë²•ì„ ì¡ì•„ì¤€ë‹¤ê±°ë‚˜ ì½”ë”©ìŠ¤íƒ€ì¼ì„ ì¡ì•„ì¤„ìˆ˜ëŠ” ì—†ë‹¤. ë˜í•œ ë¬¸ë²•ì  ì—ëŸ¬ë¥¼ ë³´ì—¬ì£¼ì§€ë„ ì•ŠëŠ”ë‹¤.

ì—¬ê¸°ì— commit ì‹œì ì´ë‚˜ push ì‹œì ì „ì— ìë™ìœ¼ë¡œ fixë¥¼ í•´ì¤€ë‹¤ë©´ gitì— ì˜¬ë¼ê°€ìˆëŠ” ì†ŒìŠ¤ë“¤ì´ ì—„ì²­ë‚˜ê²Œ ê¹”ë”í•´ì§ˆ ê²ƒì´ë‹¤.

```js
  // package.json
  {
    "husky": {
      "hooks": {
        "pre-commit": "npm test",
        "pre-push": "npm test",
        "...": "..."
      }
    }
  }
```

ìœ„ì— ì˜ˆì‹œë¥¼ ë³´ê²Œ ëœë‹¤ë©´ ì‰½ê²Œ ì´í•´ê°€ ë  ê²ƒì´ë‹¤. `pre-commit` `pre-push`ë¼ëŠ” scriptì—ì„œ ë¶€í„° ì´í•´ê°€ ë  ê²ƒìœ¼ë¡œ ìƒê°ì´ ëœë‹¤. ì´ë ‡ê²Œ í•´ì¤Œìœ¼ë¡œì¨ ì½”ë“œë¥¼ ì„œë²„ì— ì˜¬ë¦¬ê¸° ì „ì— ì‘ì—…ì„ ê±°ì¹˜ê²Œ í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

> [GitHub ì£¼ì†Œ](https://github.com/typicode/husky)

<br/>

## lint-staged

stagedëœ íŒŒì¼ë“¤ì„ lint í•´ì£¼ëŠ” ë„êµ¬ì´ë‹¤. Huskyì™€ ê°™ì´ ì“°ë©´ stagedëœ íŒŒì¼ë“¤ì— ëŒ€í•´ì„œ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.

í”í•œ ì˜ˆì‹œê°€ ìˆë‹¤.

```js
{
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "*.js": ["eslint --fix", "git add"]
  }
}
```

ìœ„ì™€ ê°™ì´ í•˜ê²Œ ë˜ë©´ jsíŒŒì¼ì„ ëŒ€ìƒìœ¼ë¡œ `eslint --fix` ì‘ì—…ê³¼ `git add` ë¥¼ ì§„í–‰í•˜ê²Œ ëœë‹¤. ìƒê°í•´ë³´ë©´ ë³„ê±° ì—†ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ ì½”ë“œê´€ë¦¬ì— ìˆì–´ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.
<br/>

## Hook

ìœ„ì˜ 2ê°€ì§€ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì§€ê³  ìš°ë¦¬ëŠ” prettierë¥¼ ì ìš©í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ê·¸ë ‡ê²Œ í•˜ê²Œ ë˜ë©´ ì–´ë–¤ ì—ë””í„°ë¥¼ ì‚¬ìš©í•´ì„œ ìˆ˜ì •ì„ í•˜ê³  gitìœ¼ë¡œ ì˜¬ë¦¬ë”ë¼ë„ commit ì‹œì  ì „ì— prettierë¥¼ ê±°ì¹˜ê²Œ ë˜ë©´ì„œ ì´ì˜ê²Œ ëœ íŒŒì¼ì´ ì˜¬ë¼ê°€ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

```js
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "*.js": [
      "npm run lint:fix",
      "git add"
    ]
  }
```

:point_right: [Chapter 5 ë°”ë¡œê°€ê¸°](https://github.com/SeonHyungJo/modern-js-starter/tree/CH-5)
